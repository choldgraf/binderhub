
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>7.2. build &#8212; BinderHub 0.1.0 documentation</title>
    <link rel="stylesheet" href="../_static/index.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/js/scroll.js"></script>
    <script type="text/javascript" src="../_static/js/mobile-nav.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="7.3. builder" href="builder.html" />
    <link rel="prev" title="7.1. app" href="app.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  


<nav class="navbar navbar-fixed-top" role="navigation" id="navbar" >
        <div class="navbar-inner">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://jupyter.org/index.html">
                  <img class="navbar-logo" src="../_static/_images/nav_logo.svg" alt="Jupyter logo">
                </a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    
                      
                        
                          <li>
                            <a href="http://jupyter.org/install.html" class="tab">Install</a>
                          </li>
                        
                      
                    
                      
                        
                          <li>
                            <a href="http://jupyter.org/about.html" class="tab">About</a>
                          </li>
                        
                      
                    
                      
                        
                          <li>
                            <a href="http://jupyter.org/community.html" class="tab">Resources</a>
                          </li>
                        
                      
                    
                      
                        
                          <li>
                            <a href="../index.html"  class="tab navbar-active">Documentation</a>
                          </li>
                        
                      
                    
                      
                           <li>
                             <a href=https://nbviewer.jupyter.org class="tab" target="_blank">NBViewer</a>
                           </li>
                      
                    
                      
                        
                          <li>
                            <a href="http://jupyter.org/widgets.html" class="tab">Widgets</a>
                          </li>
                        
                      
                    
                      
                           <li>
                             <a href=https://blog.jupyter.org class="tab" target="_blank">Blog</a>
                           </li>
                      
                    
                      
                        
                          <li>
                            <a href="http://jupyter.org/donate.html" class="tab">Donate</a>
                          </li>
                        
                      
                    
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
        <div class="docs-breadcrumbs">
            <div class="container">
                <ul>
                    <li class="docs-breadcrumb-item"><a href="https://jupyter.org"><img src="../_static/_images/jupytertheme-images/breadcrumb-home.svg" / class="breadcrumb-home"></a><img src="../_static/_images/jupytertheme-images/breadcrumb-separator.svg" class="breadcrumb-separator"/></li>
                    
                      <li class="docs-breadcrumb-item"><a href="../index.html"> BinderHub</a><img src="../_static/_images/jupytertheme-images/breadcrumb-separator.svg" class="breadcrumb-separator"/></li>
                      
                        <li class="docs-breadcrumb-item"><a href="api-index.html">7. Configuration and Source Code Reference</a><img src="../_static/_images/jupytertheme-images/breadcrumb-separator.svg" class="breadcrumb-separator"/></li>
                      
                      <li class="docs-breadcrumb-item">7.2. build</li>
                    
                </ul>
            </div>
        </div>
    </div>
</nav>
  <div class="container">
    <div class = "docs-mobile-nav">
      

<div>
  
  
  <div class="mobile-nav-current-dropdown" data-toggle = "collapse" data-target = "#sectionList">
    <div class="mobile-nav-current">
      
        <h3 class="mobile-nav-current-section"> 7. Configuration and Source Code Reference </h3>
      
      <h2 class="mobile-nav-current-page"> 7.2. build </h2>
    </div>
    <div class="top-mobile-nav-expand">
      <img class="mobile-nav-expand-icon" src="../_static/_images/jupytertheme-images/expand.svg" alt="expand icon"/>
    </div>
  </div>

  <div id="sectionList" class="collapse">
    <div class="dropdown">
      
      <div type = "button" class = "btn mobile-nav-section">
        <h3 class="mobile-nav-header">
          <a href="../index.html">BinderHub</a>
        </h3>
      </div>
    </div>
    
    
      
      
      <div class="dropdown">
        
        
          
          
            <div type = "button" class = "btn mobile-nav-section">
              <h3 class="mobile-nav-header">
                <a class="reference internal" href="../diagram.html">1. The BinderHub Architecture</a>

              </h3>
            </div>
          
        
      </div>
    
      
      
      <div class="dropdown">
        
        
          
          
            <div type = "button" class = "btn dropdown mobile-nav-section" data-toggle = "collapse" data-target = ".heading2">
              <h3 class="mobile-nav-header"> 2. Create your Kubernetes cluster</h3>
              <div class="mobile-nav-expand">
                <img class="mobile-nav-expand-icon" src="../_static/_images/jupytertheme-images/expand.svg" alt="expand icon"/>
              </div>
            </div>
          
          
        
          
          
            <ul class = "heading2 collapse mobile-nav-items">
              <li class = "toctree-l2">
                <a class="reference internal" href="../create-k8s-cluster.html">2. Create your Kubernetes cluster</a>
              </li>
              
<li class="toctree-l2"><a class="reference internal" href="../create-k8s-cluster.html#setting-up-kubernetes-on-google-cloud">2.1. Setting up Kubernetes on Google Cloud</a>
<li class="toctree-l2"><a class="reference internal" href="../create-k8s-cluster.html#installing-helm">2.2. Installing Helm</a>
<li class="toctree-l2"><a class="reference internal" href="../create-k8s-cluster.html#install-kubectl">2.3. Install kubectl</a>



            </ul>
          
        
      </div>
    
      
      
      <div class="dropdown">
        
        
          
          
            <div type = "button" class = "btn mobile-nav-section">
              <h3 class="mobile-nav-header">
                <a class="reference internal" href="../setup-registry.html">3. Set up the container registry</a>

              </h3>
            </div>
          
        
      </div>
    
      
      
      <div class="dropdown">
        
        
          
          
            <div type = "button" class = "btn dropdown mobile-nav-section" data-toggle = "collapse" data-target = ".heading4">
              <h3 class="mobile-nav-header"> 4. Set up BinderHub</h3>
              <div class="mobile-nav-expand">
                <img class="mobile-nav-expand-icon" src="../_static/_images/jupytertheme-images/expand.svg" alt="expand icon"/>
              </div>
            </div>
          
          
        
          
          
            <ul class = "heading4 collapse mobile-nav-items">
              <li class = "toctree-l2">
                <a class="reference internal" href="../setup-binderhub.html">4. Set up BinderHub</a>
              </li>
              
<li class="toctree-l2"><a class="reference internal" href="../setup-binderhub.html#installing-the-helm-chart">4.1. Installing the Helm Chart</a>



            </ul>
          
        
      </div>
    
      
      
      <div class="dropdown">
        
        
          
          
            <div type = "button" class = "btn dropdown mobile-nav-section" data-toggle = "collapse" data-target = ".heading5">
              <h3 class="mobile-nav-header"> 5. Debugging BinderHub</h3>
              <div class="mobile-nav-expand">
                <img class="mobile-nav-expand-icon" src="../_static/_images/jupytertheme-images/expand.svg" alt="expand icon"/>
              </div>
            </div>
          
          
        
          
          
            <ul class = "heading5 collapse mobile-nav-items">
              <li class = "toctree-l2">
                <a class="reference internal" href="../debug.html">5. Debugging BinderHub</a>
              </li>
              
<li class="toctree-l2"><a class="reference internal" href="../debug.html#changing-the-helm-chart">5.1. Changing the helm chart</a>



            </ul>
          
        
      </div>
    
      
      
      <div class="dropdown">
        
        
          
          
            <div type = "button" class = "btn dropdown mobile-nav-section" data-toggle = "collapse" data-target = ".heading6">
              <h3 class="mobile-nav-header"> 6. Tear down your Binder deployment</h3>
              <div class="mobile-nav-expand">
                <img class="mobile-nav-expand-icon" src="../_static/_images/jupytertheme-images/expand.svg" alt="expand icon"/>
              </div>
            </div>
          
          
        
          
          
            <ul class = "heading6 collapse mobile-nav-items">
              <li class = "toctree-l2">
                <a class="reference internal" href="../turn-off.html">6. Tear down your Binder deployment</a>
              </li>
              
<li class="toctree-l2"><a class="reference internal" href="../turn-off.html#contracting-the-size-of-your-cluster">6.1. Contracting the size of your cluster</a>
<li class="toctree-l2"><a class="reference internal" href="../turn-off.html#deleting-the-cluster">6.2. Deleting the cluster</a>



            </ul>
          
        
      </div>
    
      
      
      <div class="dropdown">
        
        
          
          
            <div type = "button" class = "btn dropdown mobile-nav-section" data-toggle = "collapse" data-target = ".heading7">
              <h3 class="mobile-nav-header"> 7. Configuration and Source Code Reference</h3>
              <div class="mobile-nav-expand">
                <img class="mobile-nav-expand-icon" src="../_static/_images/jupytertheme-images/expand.svg" alt="expand icon"/>
              </div>
            </div>
          
          
        
          
          
            <ul class = "heading7 collapse mobile-nav-items">
              <li class = "toctree-l2">
                <a class="reference internal" href="api-index.html">7. Configuration and Source Code Reference</a>
              </li>
              
<li class="toctree-l2"><a class="reference internal" href="app.html">7.1. app</a>
<li class="toctree-l2 current"><a class="current reference internal" href="#">7.2. build</a>
<li class="toctree-l2"><a class="reference internal" href="builder.html">7.3. builder</a>
<li class="toctree-l2"><a class="reference internal" href="main.html">7.4. main</a>
<li class="toctree-l2"><a class="reference internal" href="redirect.html">7.5. redirect</a>
<li class="toctree-l2"><a class="reference internal" href="registry.html">7.6. registry</a>
<li class="toctree-l2"><a class="reference internal" href="repoproviders.html">7.7. repoproviders</a>




            </ul>
          
        
      </div>
    
  </div>
</div>
    </div>
    <div class="row">
      <div class="docs-desktop-nav">
      <div class="col-sm-4 col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h1>
  <a href="../index.html">BinderHub</a>
</h1>

<div id="searchbox" role="search">
    <form class="search" action="../search.html" method="get">
      <div>
        <input type="text" placeholder= "Search" class="docs-search-input" name="q" />
        <input type="submit" class="docs-search-submit" value="" />
      </div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../diagram.html">1. The BinderHub Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../create-k8s-cluster.html">2. Create your Kubernetes cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup-registry.html">3. Set up the container registry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup-binderhub.html">4. Set up BinderHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../debug.html">5. Debugging BinderHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../turn-off.html">6. Tear down your Binder deployment</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="api-index.html">7. Configuration and Source Code Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="app.html">7.1. app</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">7.2. build</a></li>
<li class="toctree-l2"><a class="reference internal" href="builder.html">7.3. builder</a></li>
<li class="toctree-l2"><a class="reference internal" href="main.html">7.4. main</a></li>
<li class="toctree-l2"><a class="reference internal" href="redirect.html">7.5. redirect</a></li>
<li class="toctree-l2"><a class="reference internal" href="registry.html">7.6. registry</a></li>
<li class="toctree-l2"><a class="reference internal" href="repoproviders.html">7.7. repoproviders</a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      </div>
      <div class="col-sm-8 col-md-9 content">
        
  <div class="section" id="build">
<h1>7.2. build<a class="headerlink" href="#build" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-binderhub.build">
<span id="module-binderhub-build"></span><h2>7.2.1. Module: <a class="reference internal" href="#module-binderhub.build" title="binderhub.build"><code class="xref py py-mod docutils literal"><span class="pre">binderhub.build</span></code></a><a class="headerlink" href="#module-binderhub.build" title="Permalink to this headline">¶</a></h2>
<p>Contains build of a docker image from a git repository.</p>
</div>
<div class="section" id="id1">
<h2>7.2.2. <a class="reference internal" href="#binderhub.build.Build" title="binderhub.build.Build"><code class="xref py py-class docutils literal"><span class="pre">Build</span></code></a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="binderhub.build.Build">
<em class="property">class </em><code class="descclassname">binderhub.build.</code><code class="descname">Build</code><span class="sig-paren">(</span><em>q</em>, <em>api</em>, <em>name</em>, <em>namespace</em>, <em>git_url</em>, <em>ref</em>, <em>builder_image</em>, <em>image_name</em>, <em>push_secret</em><span class="sig-paren">)</span><a class="headerlink" href="#binderhub.build.Build" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a build of a git repository into a docker image.</p>
<p>This ultimately maps to a single pod on a kubernetes cluster. Many
different build objects can point to this single pod and perform
operations on the pod. The code in this class needs to be careful and take
this into account.</p>
<p>For example, operations a Build object tries might not succeed because
another Build object pointing to the same pod might have done something
else. This should be handled gracefully, and the build object should
reflect the state of the pod as quickly as possible.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">name</span></code></dt>
<dd>The <code class="docutils literal"><span class="pre">name</span></code> should be unique and immutable since it is used to
sync to the pod. The <code class="docutils literal"><span class="pre">name</span></code> should be unique for a
<code class="docutils literal"><span class="pre">(git_url,</span> <span class="pre">ref)</span></code> tuple, and the same tuple should correspond
to the same <code class="docutils literal"><span class="pre">name</span></code>. This allows use of the locking provided by k8s
API instead of having to invent our own locking code.</dd>
</dl>
<dl class="method">
<dt id="binderhub.build.Build.cleanup">
<code class="descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#binderhub.build.Build.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a kubernetes pod.</p>
</dd></dl>

<dl class="method">
<dt id="binderhub.build.Build.get_cmd">
<code class="descname">get_cmd</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#binderhub.build.Build.get_cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the cmd to run to build the image</p>
</dd></dl>

<dl class="method">
<dt id="binderhub.build.Build.progress">
<code class="descname">progress</code><span class="sig-paren">(</span><em>kind</em>, <em>obj</em><span class="sig-paren">)</span><a class="headerlink" href="#binderhub.build.Build.progress" title="Permalink to this definition">¶</a></dt>
<dd><p>Put the current action item into the queue for execution.</p>
</dd></dl>

<dl class="method">
<dt id="binderhub.build.Build.stream_logs">
<code class="descname">stream_logs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#binderhub.build.Build.stream_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>Stream a pod’s log.</p>
</dd></dl>

<dl class="method">
<dt id="binderhub.build.Build.submit">
<code class="descname">submit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#binderhub.build.Build.submit" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit a image spec to openshift’s s2i and wait for completion</p>
</dd></dl>

</dd></dl>

</div>
</div>


      </div>
        
    </div>
  </div>

  
  <script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>
  <script type= "text/javascript">
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
  </script>






<footer>
    <div class="custom-footer" role="navigation">
        <div class="container">
            <div class="navbar-text">
                <ul class="footer-text">
                    <li><a href="http://jupyter.org/index.html">Home</a></li>
                    
                      
                           <li><a href="http://jupyter.org/install.html">Install</a></li>
                      
                    
                      
                           <li><a href="http://jupyter.org/about.html">About</a></li>
                      
                    
                      
                           <li><a href="http://jupyter.org/community.html">Resources</a></li>
                      
                    
                      
                           <li><a href="http://jupyter.org/">Documentation</a></li>
                      
                    
                      
                           <li><a href="https://nbviewer.jupyter.org" target="_blank">NBViewer</a></li>
                      
                    
                      
                           <li><a href="http://jupyter.org/widgets.html">Widgets</a></li>
                      
                    
                      
                           <li><a href="https://blog.jupyter.org" target="_blank">Blog</a></li>
                      
                    
                      
                           <li><a href="http://jupyter.org/donate.html">Donate</a></li>
                      
                    
                    <p>
                       Copyright &#169; 2017, The Jupyter Team - 
                      Last updated on Tue, Oct 17, 2017
                    </p>
                </ul>
            </div>
            <div class="follow">
                <a class="github-button" href="https://github.com/jupyter" aria-label="Follow @jupyter on GitHub">Follow @jupyter</a>
                <br><a href="https://twitter.com/ProjectJupyter" class="twitter-follow-button" data-show-count="false">Follow @ProjectJupyter</a>
            </div>
        </div>
    </div>
</footer>
  </body>
</html>